<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>&lt;at-form-lookup&gt;</title>
  <script src="../webcomponentsjs/webcomponents.js"></script>
  <link rel="import" href="at-form-lookup.html">
</head>
<body>
  <div>
    Tags demo:
    <at-form-lookup id="tagsLookup" available="neat,awesome"></at-form-lookup>
  </div>
  <div>
    Dropdown demo:
    <at-form-lookup id="ddLookup" available="neat,awesome,peka,mika,zika" usedropdown></at-form-lookup>
  </div>
  <div>
    Dropdown demo (programatical initialization):
    <at-form-lookup id="ddLookupProg" usedropdown></at-form-lookup>
  </div>
  <div>
    Tags demo (remote source):
    <at-form-lookup id="flTagsRemote" url="http://gdata.youtube.com/feeds/api/videos/" params='{"alt":"json", "q":""}'></at-form-lookup>

  </div>
  <div>
    Dropdown demo (remote source):
    <at-form-lookup id="flDropdownRemote" usedropdown url="http://gdata.youtube.com/feeds/api/videos/" params='{"alt":"json", "q":"chrome"}'></at-form-lookup>
  </div>

  <script>
    window.addEventListener('polymer-ready', function () {
      console.log('Polymer ready event');
      var demoLookup = document.getElementById("demoLookup");

      var ddLookupProg = document.getElementById("ddLookupProg");
      ddLookupProg.available = JSON.parse('[{"caption": "Pera", "value": "v1"},{"caption": "Mika", "value": "v2"},{ "caption": "Zika", "value": "v3"}]');
      ddLookupProg.selected = "v1";

      //var coreAjax123 = document.getElementById("coreAjax123");
      //coreAjax123.addEventListener('core-response', function (event) {
      //  var feed = event.detail.response.feed;
      //  var available = [];
      //  for (var i = 0; i < feed.entry.length; i++) {
      //    available.push(feed.entry[i].title.$t);
      //  }
      //  var flTagsRemote = document.getElementById("flTagsRemote");
      //  flTagsRemote.available = available.join(',');
      //});

      //var coreAjax456 = document.getElementById("coreAjax123");
      //coreAjax456.addEventListener('core-response', function (event) {
      //  var feed = event.detail.response.feed;
      //  var available = [];
      //  for (var i = 0; i < feed.entry.length; i++) {
      //    available.push({
      //      caption: feed.entry[i].title.$t,
      //      value: feed.entry[i].id.$t
      //    });
      //  }
      //  var flTagsDropdownRemote = document.getElementById("flDropdownRemote");
      //  flDropdownRemote.available = available;
      //});
    });
  </script>
</body>
</html>
